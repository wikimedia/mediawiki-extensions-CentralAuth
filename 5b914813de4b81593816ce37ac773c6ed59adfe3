{
  "comments": [
    {
      "key": {
        "uuid": "cea0dbb8_8a782cc1",
        "filename": "maintenance/populateLocalAndGlobalIds.php",
        "patchSetId": 4
      },
      "lineNbr": 27,
      "author": {
        "id": 221
      },
      "writtenOn": "2016-10-19T15:20:21Z",
      "side": 1,
      "message": "This function does not seem to be used.",
      "revId": "5b914813de4b81593816ce37ac773c6ed59adfe3",
      "serverId": "e9e9afe9-4712-486d-8885-f54b72dd1951",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "cea0dbb8_5d478c50",
        "filename": "maintenance/populateLocalAndGlobalIds.php",
        "patchSetId": 4
      },
      "lineNbr": 69,
      "author": {
        "id": 221
      },
      "writtenOn": "2016-10-19T15:20:21Z",
      "side": 1,
      "message": "This seems rather inefficient, it\u0027s going to open connections to various local wikis in random orders. Either it\u0027ll wind up with lots of open connections, or there will be lots of reconnecting going on.\n\nIt might be better to follow the model of other maintenance scripts, such as checkLocalUser.php. The general outline would be like this:\n\n foreach ( $this-\u003egetAllWikis() as $dbname ) {\n     // open a local DB connection for the local wiki\n     $lb \u003d wfGetLB( $dbname );\n     $ldbr \u003d $lb-\u003egetConnection( DB_SLAVE, [], $dbname );\n\n     select batches of localuser rows on the wiki, joined with globaluser to get gu_id {\n         select corresponding local DB rows for those users (from $ldbr)\n         update the ones needing updating\n     }\n\n     // tell the LB we\u0027re done with the local connection\n     $lb-\u003ereuseConnection( $ldbr );\n }",
      "revId": "5b914813de4b81593816ce37ac773c6ed59adfe3",
      "serverId": "e9e9afe9-4712-486d-8885-f54b72dd1951",
      "unresolved": false
    }
  ]
}