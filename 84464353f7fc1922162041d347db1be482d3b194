{
  "comments": [
    {
      "key": {
        "uuid": "DviV-.t4",
        "filename": "CentralAuthHooks.php",
        "patchSetId": 9
      },
      "lineNbr": 272,
      "author": {
        "id": 221
      },
      "writtenOn": "2013-04-23T17:44:14Z",
      "side": 1,
      "message": "Doesn\u0027t OutputPage already force non-relative, in OutputPage::output() where it actually does the redirect?\n\nShould you pass PROTO_HTTPS to wfExpandUrl, since this is login-related?",
      "revId": "84464353f7fc1922162041d347db1be482d3b194",
      "serverId": "e9e9afe9-4712-486d-8885-f54b72dd1951",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "DvsWDhs4",
        "filename": "specials/SpecialCentralLogin.php",
        "patchSetId": 9
      },
      "lineNbr": 55,
      "author": {
        "id": 221
      },
      "writtenOn": "2013-04-23T17:44:14Z",
      "side": 1,
      "message": "Doesn\u0027t OutputPage already force non-relative, in OutputPage::output() where it actually does the redirect?\n\nShould you pass PROTO_HTTPS to wfExpandUrl, since this is login-related?",
      "revId": "84464353f7fc1922162041d347db1be482d3b194",
      "serverId": "e9e9afe9-4712-486d-8885-f54b72dd1951",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "DvvOuhYE",
        "filename": "specials/SpecialCentralLogin.php",
        "patchSetId": 9
      },
      "lineNbr": 55,
      "author": {
        "id": 16
      },
      "writtenOn": "2013-04-24T01:58:58Z",
      "side": 1,
      "message": "The first time I looked it at I though it left it as-is, but it actually does:\n\n$this-\u003emRedirect \u003d wfExpandUrl( $this-\u003emRedirect, PROTO_CURRENT );\n\nSo if the login page is on HTTPS, so will the redirect. I\u0027m assuming we\u0027d do that, instead of having the user send the password over HTTP and then redirect to HTTPS or likewise have an HTTPS form on an HTTP page (neither would be safe). This also makes it testable over HTTP (for dev setups).",
      "parentUuid": "DvsWDhs4",
      "revId": "84464353f7fc1922162041d347db1be482d3b194",
      "serverId": "e9e9afe9-4712-486d-8885-f54b72dd1951",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "DvuWIAus",
        "filename": "specials/SpecialCentralLogin.php",
        "patchSetId": 9
      },
      "lineNbr": 92,
      "author": {
        "id": 221
      },
      "writtenOn": "2013-04-23T17:44:14Z",
      "side": 1,
      "message": "This one isn\u0027t even a redirect.\n\nShould you pass PROTO_HTTPS to wfExpandUrl, since this is login-related?",
      "revId": "84464353f7fc1922162041d347db1be482d3b194",
      "serverId": "e9e9afe9-4712-486d-8885-f54b72dd1951",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "DvhO0gc4",
        "filename": "specials/SpecialCentralLogin.php",
        "patchSetId": 9
      },
      "lineNbr": 92,
      "author": {
        "id": 16
      },
      "writtenOn": "2013-04-24T01:58:58Z",
      "side": 1,
      "message": "This could be simplified since it\u0027s not a redirect.",
      "parentUuid": "DvuWIAus",
      "revId": "84464353f7fc1922162041d347db1be482d3b194",
      "serverId": "e9e9afe9-4712-486d-8885-f54b72dd1951",
      "unresolved": false
    }
  ]
}