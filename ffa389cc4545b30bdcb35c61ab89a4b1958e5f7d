{
  "comments": [
    {
      "key": {
        "uuid": "8ec42329_e7a212f9",
        "filename": "includes/CentralAuthHooks.php",
        "patchSetId": 4
      },
      "lineNbr": 603,
      "author": {
        "id": 1196
      },
      "writtenOn": "2015-06-29T19:46:30Z",
      "side": 1,
      "message": "Have you considered moving this into a private helper function to avoid repetition? For example:\n\n    $params \u003d self::buildParams( array(\n      \u0027type\u0027 \u003d\u003e \u0027icon\u0027,\n      \u0027from\u0027 \u003d\u003e wfWikiID()\n    ) );\n\n    // ...\n\n    private static function buildParams( $baseParams ) {\n      if (\n        class_exists( \u0027MobileContext\u0027 )\n        \u0026\u0026 MobileContext::singleton()-\u003eisMobileDomainRequest()\n      ) {\n        $baseParams +\u003d array( \u0027mobile\u0027 \u003d\u003e 1 );\n      }\n\n      return $baseParams;\n    }",
      "revId": "ffa389cc4545b30bdcb35c61ab89a4b1958e5f7d",
      "serverId": "e9e9afe9-4712-486d-8885-f54b72dd1951",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "8ec42329_8197653c",
        "filename": "includes/CentralAuthHooks.php",
        "patchSetId": 4
      },
      "lineNbr": 603,
      "author": {
        "id": 1196
      },
      "writtenOn": "2015-07-02T10:39:21Z",
      "side": 1,
      "message": "As the above doesn\u0027t quite get you what you want, how about:\n\n    protected static function isMobileDomainRequest() {\n        return class_exists( \u0027MobileContext\u0027 ) \u0026\u0026 MobileContext::singleton()-\u003eisMobileDomainRequest();\n    }\n\nThen at least the methods you\u0027re modifying here will be agnostic to how you\u0027re detecting a mobile/desktop.",
      "parentUuid": "8ec42329_e7a212f9",
      "revId": "ffa389cc4545b30bdcb35c61ab89a4b1958e5f7d",
      "serverId": "e9e9afe9-4712-486d-8885-f54b72dd1951",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "8ec42329_3998fa7b",
        "filename": "includes/CentralAuthHooks.php",
        "patchSetId": 4
      },
      "lineNbr": 603,
      "author": {
        "id": 78
      },
      "writtenOn": "2015-07-08T22:06:19Z",
      "side": 1,
      "message": "Seems like a good idea to me (the 2nd suggestion).",
      "parentUuid": "8ec42329_8197653c",
      "revId": "ffa389cc4545b30bdcb35c61ab89a4b1958e5f7d",
      "serverId": "e9e9afe9-4712-486d-8885-f54b72dd1951",
      "unresolved": false
    }
  ]
}