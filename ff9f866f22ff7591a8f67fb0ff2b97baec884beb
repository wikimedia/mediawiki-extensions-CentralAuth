{
  "comments": [
    {
      "key": {
        "uuid": "291c1151_b1043c1a",
        "filename": "CentralAuthHooks.php",
        "patchSetId": 14
      },
      "lineNbr": 479,
      "author": {
        "id": 221
      },
      "writtenOn": "2013-11-19T18:20:09Z",
      "side": 1,
      "message": "Why not put this addition inside the if block just below? If the user isn\u0027t already logged in, won\u0027t $user-\u003egetName() be returning an IP which can\u0027t be a valid CentralAuthUser?",
      "revId": "ff9f866f22ff7591a8f67fb0ff2b97baec884beb",
      "serverId": "e9e9afe9-4712-486d-8885-f54b72dd1951",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "0ee75395_a1a366a7",
        "filename": "CentralAuthHooks.php",
        "patchSetId": 14
      },
      "lineNbr": 479,
      "author": {
        "id": 458
      },
      "writtenOn": "2013-11-30T01:54:35Z",
      "side": 1,
      "message": "Done",
      "parentUuid": "291c1151_b1043c1a",
      "revId": "ff9f866f22ff7591a8f67fb0ff2b97baec884beb",
      "serverId": "e9e9afe9-4712-486d-8885-f54b72dd1951",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "291c1151_cc267fbc",
        "filename": "CentralAuthHooks.php",
        "patchSetId": 14
      },
      "lineNbr": 539,
      "author": {
        "id": 221
      },
      "writtenOn": "2013-11-19T18:20:09Z",
      "side": 1,
      "message": "Don\u0027t you need to check if $centralUser-\u003erenameInProgress() down here somewhere too, in case the user wasn\u0027t currently logged in but has the cookies that we would be logging them in right now?",
      "revId": "ff9f866f22ff7591a8f67fb0ff2b97baec884beb",
      "serverId": "e9e9afe9-4712-486d-8885-f54b72dd1951",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "0ee75395_618d5e36",
        "filename": "CentralAuthHooks.php",
        "patchSetId": 14
      },
      "lineNbr": 539,
      "author": {
        "id": 458
      },
      "writtenOn": "2013-11-30T01:54:35Z",
      "side": 1,
      "message": "TBH, I don\u0027t understand how some of this stuff of this works. I\u0027ve added in the same check, will that be good enough?",
      "parentUuid": "291c1151_cc267fbc",
      "revId": "ff9f866f22ff7591a8f67fb0ff2b97baec884beb",
      "serverId": "e9e9afe9-4712-486d-8885-f54b72dd1951",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "291c1151_2c22b3a6",
        "filename": "CentralAuthHooks.php",
        "patchSetId": 14
      },
      "lineNbr": 589,
      "author": {
        "id": 221
      },
      "writtenOn": "2013-11-19T18:20:09Z",
      "side": 1,
      "message": "I suppose NOT_EXISTS sort of makes sense, you could consider the user to not really exist during the time that it\u0027s being renamed. OTOH, ABORTED would be more obviously correct. If you need the username passed to the ABORTED message, why not submit that as a simple patch to core?",
      "revId": "ff9f866f22ff7591a8f67fb0ff2b97baec884beb",
      "serverId": "e9e9afe9-4712-486d-8885-f54b72dd1951",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "0ee75395_41925a58",
        "filename": "CentralAuthHooks.php",
        "patchSetId": 14
      },
      "lineNbr": 589,
      "author": {
        "id": 458
      },
      "writtenOn": "2013-11-30T01:54:35Z",
      "side": 1,
      "message": "Adding the parameter is trivial, however the main problem was that ABORTED uses -\u003etext() and since our message has a link, it needs -\u003eparse().\n\nIt should be fine to convert that to use parse, but I\u0027ll check what the current usage is.",
      "parentUuid": "291c1151_2c22b3a6",
      "revId": "ff9f866f22ff7591a8f67fb0ff2b97baec884beb",
      "serverId": "e9e9afe9-4712-486d-8885-f54b72dd1951",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "291c1151_ac47834c",
        "filename": "LocalRenameUserJob.php",
        "patchSetId": 14
      },
      "lineNbr": 59,
      "author": {
        "id": 221
      },
      "writtenOn": "2013-11-19T18:20:09Z",
      "side": 1,
      "message": "I wonder how much of the other logic in CentralAuthHooks::attemptAddUser() is necessary?",
      "revId": "ff9f866f22ff7591a8f67fb0ff2b97baec884beb",
      "serverId": "e9e9afe9-4712-486d-8885-f54b72dd1951",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "0ee75395_21875616",
        "filename": "LocalRenameUserJob.php",
        "patchSetId": 14
      },
      "lineNbr": 59,
      "author": {
        "id": 458
      },
      "writtenOn": "2013-11-30T01:54:35Z",
      "side": 1,
      "message": "Hmm, I suppose it might be easier to just use that function since it does most of the checks for us, and it does the random stuff like doing the SiteStatsUpdate.",
      "parentUuid": "291c1151_ac47834c",
      "revId": "ff9f866f22ff7591a8f67fb0ff2b97baec884beb",
      "serverId": "e9e9afe9-4712-486d-8885-f54b72dd1951",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "291c1151_ec7dfb7c",
        "filename": "LocalRenameUserJob.php",
        "patchSetId": 14
      },
      "lineNbr": 60,
      "author": {
        "id": 221
      },
      "writtenOn": "2013-11-19T18:20:09Z",
      "side": 1,
      "message": "$wgAuth-\u003einitUser() instead?",
      "revId": "ff9f866f22ff7591a8f67fb0ff2b97baec884beb",
      "serverId": "e9e9afe9-4712-486d-8885-f54b72dd1951",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "291c1151_4c97ef8e",
        "filename": "db_patches/patch-renameuser.sql",
        "patchSetId": 14
      },
      "lineNbr": 0,
      "author": {
        "id": 221
      },
      "writtenOn": "2013-11-19T18:20:09Z",
      "side": 1,
      "message": "Do we need a LoadExtensionSchemaUpdates hook function to have this be run when someone uses update.php? Or do we not care about that for CentralAuth (since I don\u0027t see it for any of the other patch files in this directory).",
      "revId": "ff9f866f22ff7591a8f67fb0ff2b97baec884beb",
      "serverId": "e9e9afe9-4712-486d-8885-f54b72dd1951",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "0ee75395_bb95e437",
        "filename": "db_patches/patch-renameuser.sql",
        "patchSetId": 14
      },
      "lineNbr": 0,
      "author": {
        "id": 458
      },
      "writtenOn": "2013-11-30T01:54:35Z",
      "side": 1,
      "message": "I didn\u0027t add one since none of the other patches have them. I guess no one cares about that.",
      "parentUuid": "291c1151_4c97ef8e",
      "revId": "ff9f866f22ff7591a8f67fb0ff2b97baec884beb",
      "serverId": "e9e9afe9-4712-486d-8885-f54b72dd1951",
      "unresolved": false
    }
  ]
}